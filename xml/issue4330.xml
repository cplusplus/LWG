<?xml version='1.0' encoding='utf-8' standalone='no'?>
<!DOCTYPE issue SYSTEM "lwg-issue.dtd">

<issue num="4330" status="LEWG">
<title><code>affine_on</code> semantics</title>
<section><sref ref="[exec.affine.on]"/></section>
<submitter>Dietmar KÃ¼hl</submitter>
<date>31 Aug 2025</date>
<priority>2</priority>

<discussion>
<p>
The specification of <code>affine_on</code> uses "current execution
resource" and it is unclear what that means exactly. Additionally,
it is unclear what the difference between <code>affine_on</code>
and <code>continues_on</code> is. The intended difference for
<code>affine_on</code> is to avoid unnecessary scheduling which
<code>continues_on</code> is already allowed to do in some cases,
too.
</p>
<p>
The intended semantics is that <code>affine_on</code> will either
complete inline on whatever execution agent it was started on or
it will complete asynchronously on the specified execution context.
With this formulation <code>affine_on</code> may complete on one
of two different execution context if it is started on an execution
context that is different from the one specified by the scheduler.
</p>

<note>2025-10-23; Reflector poll. Status changed: New &rarr; LEWG</note>
<p>
Set priority to 2 after reflector poll. Send to LEWG.
</p>
<note>2025-10-24; Resolves <a href="https://github.com/cplusplus/nbballot/issues/940">US 233-365</a></note>
</discussion>

<resolution>
<p>
</p>
</resolution>

</issue>
