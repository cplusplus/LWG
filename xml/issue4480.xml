<?xml version='1.0' encoding='utf-8' standalone='no'?>
<!DOCTYPE issue SYSTEM "lwg-issue.dtd">

<issue num="4480" status="Tentatively Ready">
<title><tt>&lt;stdatomic.h&gt;</tt> should provide `ATOMIC_CHAR8_T_LOCK_FREE`</title>
<section><sref ref="[stdatomic.h.syn]"/></section>
<submitter>Jiang An</submitter>
<date>21 Nov 2025</date>
<priority>99</priority>

<discussion>
<p>
Currently, <tt>&lt;stdatomic.h&gt;</tt> is specified to provide `atomic_char8_t` but not its 
corresponding `ATOMIC_CHAR8_T_LOCK_FREE` macro, which is self-inconsistent. Also, given  
<a href="https://www.open-std.org/jtc1/sc22/wg14/www/docs/n2653.htm">WG14 N2653</a> added 
`ATOMIC_CHAR8_T_LOCK_FREE` to C's <tt>&lt;stdatomic.h&gt;</tt> in C23, perhaps C++ should do 
the same thing in the spirit of <paper num="P3348R4"/>.
</p>

<note>2025-12-04; Reflector poll.</note>
<p>
Set status to Tentatively Ready after seven votes in favour during reflector poll.
</p>
</discussion>

<resolution>
<p>
This wording is relative to <paper num="N5014"/>.
</p>

<ol>
<li><p>Modify <sref ref="[stdatomic.h.syn]"/>, header <tt>&lt;stdatomic.h&gt;</tt> synopsis, as indicated:</p>

<blockquote>
<pre>
template&lt;class T&gt;
  using <i>std-atomic</i> = std::atomic&lt;T&gt;; <i>// exposition only</i>

#define _Atomic(T) <i>std-atomic</i>&lt;T&gt;

#define ATOMIC_BOOL_LOCK_FREE <i>see below</i>
#define ATOMIC_CHAR_LOCK_FREE <i>see below</i>
<ins>#define ATOMIC_CHAR8_T_LOCK_FREE <i>see below</i></ins>
#define ATOMIC_CHAR16_T_LOCK_FREE <i>see below</i>
#define ATOMIC_CHAR32_T_LOCK_FREE <i>see below</i>
#define ATOMIC_WCHAR_T_LOCK_FREE <i>see below</i>
#define ATOMIC_SHORT_LOCK_FREE <i>see below</i>
#define ATOMIC_INT_LOCK_FREE <i>see below</i>
#define ATOMIC_LONG_LOCK_FREE <i>see below</i>
#define ATOMIC_LLONG_LOCK_FREE <i>see below</i>
#define ATOMIC_POINTER_LOCK_FREE <i>see below</i>

[&hellip;]
</pre>
</blockquote>
</li>
</ol>

</resolution>

</issue>
